
<div class="continer-padding-fistheader  view-background">

    <script type="text/ng-template" id="AddUserModal.html">
        <div class="modal-header">
            <h3 class="modal-title font-color modalheader">Add/Edit User</h3>
        </div>
        <div class="row margin-top-20 animate left-right-padding" ng-if="savesuccess">
            <uib-alert type="success">Saved Successfully</uib-alert>
        </div>
        <div class="row margin-top-20 animate left-right-padding" ng-if="savefailure">
            <uib-alert type="danger">something went wrong</uib-alert>
        </div>
        <div ng-controller="administrationController as showCase" ng-init="init()">
            <div class="modal-body" ng-form="myForm">
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Firstname:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-user font-red"></i>
                            </span>
                            <!--<select class=" form-control repeat-animation" ng-model="Jurisdiction" ng-options="Jurisdiction.description for Jurisdiction in jurisdictions |orderBy:'description'"></select>-->
                            <input ng-model="firstname" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Lastname:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="cm" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-user-plus font-red"></i>
                            </span>
                            <input type="text" ng-model="lastname" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Email:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top" ng-class="{ 'has-error' : myForm.username.$invalid && !myForm.username.$pristine }">
                        <div id="wn" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-envelope font-red"></i>
                            </span>
                            <input ng-model="email" class="form-control" type="text">
                            <p ng-show="myForm.leStatus.$invalid && !myForm.leStatus.$pristine" class="help-block">Workbook is required.</p>
                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Password:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="br" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-key font-red"></i>
                            </span>
                            <input type="password" ng-model="password" class="form-control" />
                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Role:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-users font-red"></i>
                            </span>
                            <select class="form-control" ng-model="role">
                                <option>ADMIN</option>
                                <option>EDITUSER</option>
                                <option>READONLY</option>
                            </select>

                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Phone:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-phone font-red"></i>
                            </span>
                            <input type="text" ng-model="phone" class="form-control" />

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer" style="clear:both">
            <button type="button" class="btn btn-primary" ng-click="ok()">ADD <i class="fa fa-plus"></i></button>
            <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
        </div>
    </script>
    <script type="text/ng-template" id="createNewField.html">
        <div class="modal-header">
            <h3 class="modal-title font-color modalheader">Add/Edit Field</h3>
        </div>
        <div class="row margin-top-20 animate left-right-padding" ng-if="savesuccess">
            <uib-alert type="success">Saved Successfully</uib-alert>
        </div>
        <div class="row margin-top-20 animate left-right-padding" ng-if="savefailure">
            <uib-alert type="danger">something went wrong</uib-alert>
        </div>
        <div ng-app="dynamicAttribute">
            <div ng-app="angularjs-starter" ng-controller="dynamicFields">
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">FieldName:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-user font-red"></i>
                            </span>
                            <!--<select class=" form-control repeat-animation" ng-model="Jurisdiction" ng-options="Jurisdiction.description for Jurisdiction in jurisdictions |orderBy:'description'"></select>-->
                            <input class="form-control" type="text" ng-model="choices.dynamicField.FieldName" name="" placeholder="Enter Field Name" maxlength="50">
                            <small ng-hide="valid" ng-if="rootAttributes.hasOwnProperty(choices.dynamicField.FieldName)" style="display: block; color:red;font-family:'Open Sans', 'sans-serif' !important;">Field Name already exist</small>
                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">FieldType:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-user font-red"></i>
                            </span>
                            <!--<select class=" form-control repeat-animation" ng-model="Jurisdiction" ng-options="Jurisdiction.description for Jurisdiction in jurisdictions |orderBy:'description'"></select>-->
                            <select class="form-control" ng-model="choices.dynamicField.FieldType">
                                <option ng-vlaue="Text">Text</option>
                                <option ng-vlaue="DropDown">DropDown</option>
                                <option ng-vlaue="Toggle">Toggle</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div ng-show="choices.dynamicField.FieldType == 'DropDown'" class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Choose File:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <div class="btn btn-default image-preview-input">
                                <span class="glyphicon glyphicon-folder-open"></span>
                                <span class="image-preview-input-title">Upload Options</span>
                                <input type="file" accept=".xls,.xlsx,.ods" fileread="choices.dynamicField.Options" opts1="choices.dynamicField.Options" />

                            </div>
                        </div>
                    </div>
                </div>
                <div ng-if="choices.dynamicField.FieldType == 'DropDown'" class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">Options:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">
                            <span class="input-group-addon">
                                <i class="fa fa-user font-red"></i>
                            </span>
                            <!--<select class=" form-control repeat-animation" ng-model="Jurisdiction" ng-options="Jurisdiction.description for Jurisdiction in jurisdictions |orderBy:'description'"></select>-->
                            <textarea ng-trim="true" class="form-control ng-pristine ng-valid ng-touched" type="text" ng-model="choices.dynamicField.Options" ng-value="choices.dynamicField.Options" name="" placeholder="Comma Separated Options"></textarea>                        </div>
                    </div>
                </div>
                <div class="row col-lg-12">
                    <div class="col-md-4 col-xs-6  pad-top">
                        <label class="control-label pull-right pad-top">IsActive:</label>
                    </div>
                    <div class="col-md-6 col-xs-6  form-group-new pad-top">
                        <div id="jr" class="input-group ">

                            <div class="onoffswitch">

                                <input type="checkbox" id="switcher2" name="my-checkbox" ng-model="choices.dynamicField.IsActive" data-on-text="YES" data-off-text="NO" checked>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="clear:both">
                    <!--<button ng-disabled="((choices.dynamicField.FieldName == null || choices.dynamicField.FieldName.trim() == '') || choices.dynamicField.FieldType == null) || attributes.hasOwnProperty(choices.dynamicField.FieldName) == true || (choices.dynamicField.FieldType == 'DropDown' && choices.dynamicField.Options == null)" type="button" class="btn btn-primary" ng-click="dynamicFieldSave()" onclick="active=1">ADD <i class="fa fa-plus"></i></button>-->
                    <button ng-disabled="((choices.dynamicField.FieldName == null ||  choices.dynamicField.FieldName.trim() == ' ')|| choices.dynamicField.FieldType == null) || attributes.hasOwnProperty(choices.dynamicField.FieldName) == true || (choices.dynamicField.FieldType == 'DropDown' && choices.dynamicField.Options == null || choices.dynamicField.Options.trim().includes('&quot;&quot;') || choices.dynamicField.Options.trim().includes(',,') || choices.dynamicField.Options.trim().includes(', ,') || choices.dynamicField.Options.trim() == ',' || choices.dynamicField.Options.trim() == '&quot;' || choices.dynamicField.Options.trim().length == 0)" type="button" class="btn btn-primary" ng-click="dynamicFieldSave()" onclick="active=1">ADD <i class="fa fa-plus"></i></button>                     <button class="btn btn-warning" type="button" ng-click="fcancel()">Cancel</button>
                </div>
            </div>
        </div>
    </script>


    <div class="row pad-top light-pad-sides" ng-controller="dynamicFields">
        <div class="col-md-12 col-xs-12">
            <uib-tabset active="active">

                <uib-tab index="0" heading="User Administration" select="initdtInstanceuserAdmin()">

                    <div class="continer-padding-fistheader  view-background">
                        <!--<div class="hell">-->
                        <div class="caption">
                            <!--<span class="font-color">
                                User Administration
                            </span>
                            <div class="dropdown pull-right " style="width:140px;padding-right:0;">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="fa fa-clock-o font-red"></i>
                                    </span>
                                    <select class="input-block-level repeat-animation form-control" ng-model="hfmperiodvalue" ng-change="bindPeriod(hfmperiodvalue)" ng-options="obj.description for obj in hfmperiodData |orderBy: '-description'"></select>
                                </div>
                            </div>-->
                        </div>
                        <!--</div>-->
                        <div class="row portlet-body boder-table ">
                            <div class="col-lg-12 col-md-12  col-xs-12 col-xs-12 ">
                                <div class="table-toolbar boarder-box ">
                                    <div class="row margin-top-20 animate left-right-padding" ng-if="savesuccess">
                                        <uib-alert type="success">Saved Successfully</uib-alert>
                                    </div>
                                    <div class="row margin-top-20 animate left-right-padding" ng-if="savefailure">
                                        <uib-alert type="danger">something went wrong</uib-alert>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2 ADD_btn">
                                            <div class="btn-group">
                                                <button id="sample_editable_1_new" class="btn button-add" ng-click="open();check()">
                                                    Add New User <i class="fa fa-plus">
                                                    </i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-md-10">
                                            <div class="pull-right">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="exportable">
                                    <table datatable dt-options="dtOptions" dt-columns="dtColumns" dt-instance="dtInstance" class="table table-striped table-hover table-bordered repeat-animation"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Attribute Management" select="initdtInstanceAttributeManagement()">
                    <div>
                        <div>
                            <div class="row portlet-body boder-table padding-15 ">
                                <div class="col-lg-12 col-md-12  col-xs-12 col-xs-12">
                                    <div class="table-toolbar boarder-box ">

                                        <div class="row">
                                            <div class="col-md-2 ADD_btn">
                                                <div class="btn-group">
                                                    <button class="btn button-add" ng-click="addDynamicField();check()">
                                                        Add New Field <i class="fa fa-plus">
                                                        </i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-10">
                                                <div class="pull-right">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="clearfix"></div>

                                    <table class="table table-striped table-bordered table-hover" id="attributeTableID" datatable="ng" dt-options="dtOptions" dt-instance="dtInstance22">
                                        <thead>
                                            <tr>
                                                <th>Field Name</th>
                                                <th>Field Type</th>
                                                <th>IsActive</th>
                                                <th>Options</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr id="attributeTableIDData" ng-repeat="(key,value) in attributes track by $index">
                                                <td>
                                                    {{key}}
                                                </td>
                                                <td>{{attributes[key]['FieldType']}}</td>
                                                <td>{{attributes[key]['IsActive']? 'Yes':'No'}}</td>
                                                <td style="word-break:break-all;">{{attributes[key]['Options']}}</td>
                                                <td class="text-center">
                                                    <div>
                                                        <img ng-click="fieldEdit($event,key)" class="" src="../images/edit.png" style="margin-left:20px;cursor:pointer" />
                                                        <img ng-click="saveField($event,key)" class="ng-hide" src="../images/savee.png" style="margin-left:8px;cursor:pointer" />
                                                        <img ng-click="cancelField($event,key)" class="ng-hide" src="../images/cancell.png" style="margin-left:8px;cursor:pointer" />
                                                        <img class="cursor" ng-click="deleteAttribute(key)" src="../images/delete.png" />
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>

            </uib-tabset>
        </div>
    </div>
</div>

